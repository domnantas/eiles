<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>eilÄ—s</title>
		<link rel="stylesheet" href="/style.css" />
	</head>

	<body>
		<div class="loading">loading</div>

		<main class="hidden">
			<a href="/repositories/">select repository</a>
			<a href="/auth/">logout</a>
		</main>

		<script type="module">
			import { graphql } from "https://cdn.skypack.dev/@octokit/graphql";

			const githubToken = localStorage.getItem("githubToken");
			if (!githubToken) {
				window.location.href = "/auth/";
			}

			const selectedGithubRepository = localStorage.getItem(
				"selectedGithubRepository"
			);
			if (!selectedGithubRepository) {
				window.location.href = "/repositories/";
			}

			const loadingElement = document.querySelector(".loading");
			const mainElement = document.querySelector("main");

			loadingElement.classList.add("hidden");
			mainElement.classList.remove("hidden");
		</script>
	</body>
</html>
